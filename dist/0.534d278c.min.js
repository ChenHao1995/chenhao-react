webpackJsonp([0],{

/***/ 233:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _dec, _class;
//import {render} from 'react-dom'
//import { Router,hashHistory,Route,BrowserRouter,Switch } from 'react-router-dom'
//import { createStore } from 'redux'

//import AppRouter from './router.js'
//import store from '../store.js'


var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(2);

var _actions = __webpack_require__(34);

var _actions2 = _interopRequireDefault(_actions);

var _reactRedux = __webpack_require__(25);

var _redux = __webpack_require__(18);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function mapStateToProps(state) {
  return {
    scoreToStartForm: state.demoreducer.scoreToStartForm
  };
}
function mapDispatchToProps(dispatch) {
  return {
    actions: (0, _redux.bindActionCreators)(_actions2.default, dispatch)
  };
}
var ScoreToStart = (_dec = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps), _dec(_class = function (_Component) {
  _inherits(ScoreToStart, _Component);

  function ScoreToStart(props) {
    _classCallCheck(this, ScoreToStart);

    var _this = _possibleConstructorReturn(this, (ScoreToStart.__proto__ || Object.getPrototypeOf(ScoreToStart)).call(this, props));

    console.log('scoreToStart', _this.props);
    _this.exchangeValue = _this.exchangeValue.bind(_this);
    _this.getStart = _this.getStart.bind(_this);
    return _this;
  }

  _createClass(ScoreToStart, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var propkey = this.props.propkey;
      this.props.actions.scoreToStartInitValue(_defineProperty({}, propkey, {
        value: '',
        startCount: 0
      }));
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {}
  }, {
    key: 'exchangeValue',
    value: function exchangeValue(value) {
      var propkey = this.props.propkey;

      var funValue = String(value).indexOf('.') === -1 ? value : String(value).slice(0, String(value).indexOf('.'));
      var initValue = funValue > 100 ? 100 : funValue;
      var startCount = this.getStart(Number(initValue));
      this.props.actions.scoreToStartValue(_defineProperty({}, propkey, {
        value: initValue,
        startCount: startCount
      }));
    }
  }, {
    key: 'getStart',
    value: function getStart(score) {
      var scoreArray = [{ from: 0,
        to: 0.4,
        startCount: 0
      }, {
        from: 0.5,
        to: 10.4,
        startCount: 0.5
      }, {
        from: 10.5,
        to: 20.4,
        startCount: 1
      }, {
        from: 20.5,
        to: 30.4,
        startCount: 1.5
      }, {
        from: 30.5,
        to: 40.4,
        startCount: 2
      }, {
        from: 40.5,
        to: 50.4,
        startCount: 2.5
      }, {
        from: 5.5,
        to: 60.4,
        startCount: 3
      }, {
        from: 60.5,
        to: 70.4,
        startCount: 3.5
      }, {
        from: 70.5,
        to: 80.4,
        startCount: 4
      }, {
        from: 80.5,
        to: 90.4,
        startCount: 4.5
      }, {
        from: 90.5,
        startCount: 5
      }];

      var result = scoreArray.filter(function (value) {
        if (!value.to) {
          return true;
        }
        if (score >= value.from && score <= value.to) {
          return true;
        }
      });
      console.log(result);
      return result[0].startCount;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          propkey = _props.propkey,
          stsDetail = _props.stsDetail,
          stsTitle = _props.stsTitle;

      var scoreValue = this.props.scoreToStartForm ? this.props.scoreToStartForm[propkey] ? this.props.scoreToStartForm[propkey].value : '' : '';
      var startCount = this.props.scoreToStartForm ? this.props.scoreToStartForm[propkey] ? this.props.scoreToStartForm[propkey].startCount : '' : '';
      return _react2.default.createElement(
        'div',
        { className: 'score-component' },
        _react2.default.createElement(
          'div',
          { className: 'score-title' },
          _react2.default.createElement(
            'span',
            null,
            stsTitle
          ),
          _react2.default.createElement('input', { type: 'number', value: scoreValue, onChange: function onChange(e) {
              _this2.exchangeValue(e.target.value);
            } }),
          _react2.default.createElement(
            'span',
            null,
            '%'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'score-box' },
          _react2.default.createElement(
            'div',
            { className: 'start-box' },
            _react2.default.createElement(
              'div',
              { className: startCount >= 0.5 ? startCount >= 1 ? 'start-l cf' : 'start-yb cf' : 'start cf' },
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(10);
                } }),
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(20);
                } })
            ),
            _react2.default.createElement(
              'div',
              { className: startCount >= 1.5 ? startCount >= 2 ? 'start-l cf' : 'start-yb cf' : 'start cf' },
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(30);
                } }),
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(40);
                } })
            ),
            _react2.default.createElement(
              'div',
              { className: startCount >= 2.5 ? startCount >= 3 ? 'start-l cf' : 'start-yb cf' : 'start cf' },
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(50);
                } }),
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(60);
                } })
            ),
            _react2.default.createElement(
              'div',
              { className: startCount >= 3.5 ? startCount >= 4 ? 'start-l cf' : 'start-yb cf' : 'start cf' },
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(70);
                } }),
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(80);
                } })
            ),
            _react2.default.createElement(
              'div',
              { className: startCount >= 4.5 ? startCount >= 5 ? 'start-l cf' : 'start-yb cf' : 'start cf' },
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(90);
                } }),
              _react2.default.createElement('div', { className: 'start-click', onClick: function onClick(e) {
                  _this2.exchangeValue(100);
                } })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'choose-detail' },
            stsDetail
          )
        )
      );
    }
  }]);

  return ScoreToStart;
}(_react.Component)) || _class);
exports.default = ScoreToStart;


ScoreToStart.propTypes = {
  propkey: _propTypes.PropTypes.string.isRequired,
  scoreToStartInitValue: _propTypes.PropTypes.any,
  scoreToStartValue: _propTypes.PropTypes.any,
  stsDetail: _propTypes.PropTypes.any,
  stsTitle: _propTypes.PropTypes.any,
  scoreToStartForm: _propTypes.PropTypes.any,
  actions: _propTypes.PropTypes.object
};

/***/ })

});